import{r as c,a as u,j as e}from"./app-CQ-G37p-.js";import{I as h}from"./input-BXXA-PDa.js";import{l as j}from"./lodash-Caeo88pO.js";function v({value:r,onChange:m,endpoint:l,historyColumns:n,placeholder:x,searchColumn:g="invoice_number"}){const[p,t]=c.useState([]),[i,d]=c.useState(!1),s=c.useCallback(j.debounce(async a=>{if(i)try{const o=await u.get(l,{headers:{"Content-Type":"application/json"},params:{[g]:a}});if(!i)return;t(o.data.data)}catch{t([])}},1e3),[l,r,i]);return c.useEffect(()=>(s(r),()=>{s.cancel()}),[r,s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",children:[e.jsx(h,{type:"text",value:r,placeholder:x,onChange:a=>{m(a.target.value)},onFocus:()=>{d(!0),r?s(r):t([])},onBlur:()=>{d(!1),t([])}}),p.length>0&&e.jsx("ul",{className:"absolute z-10 bg-white dark:bg-black border border-gray-300 dark:border-gray-700 rounded shadow-lg mt-1 w-full max-h-96 overflow-y-scroll",children:p.map((a,o)=>e.jsx("li",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 cursor-pointer flex gap-x-2",children:n==null?void 0:n.map((b,f)=>e.jsx("span",{className:`block ${f===0?"font-bold":""}`,children:a[b]},f))},o))})]})})}export{v as I};
