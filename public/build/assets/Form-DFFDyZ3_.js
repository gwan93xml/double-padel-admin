import{W as G,r as k,j as r,y as N}from"./app-xdIDsNuc.js";import{B as F}from"./index-D9fYs-5N.js";import{F as l}from"./form-group-DJppTG6k.js";import{I as i}from"./input-Pb5O0huv.js";import{S as h,a as g,b as x,c as j,d as v}from"./select-CnbTIwKL.js";import{I as P}from"./ImageUploader-r4l5jz7T.js";import{t as o}from"./use-toast-BOfnQU58.js";import"./utils-jM7Hu9J5.js";import"./label-DxiqzSVl.js";import"./index-CltWYr8P.js";import"./index-4rFdga_w.js";import"./index-Dy_V4ZJ5.js";import"./index-CCSo0cdO.js";import"./index-DY1xKekZ.js";import"./createLucideIcon-D9qBrcbq.js";import"./check-B2a_CU3u.js";import"./x-Cp6Dz_ky.js";function X({initialData:b={venue_id:0,name:"",court_type:"",price_per_hour:0,capacity:4,status:"available",image:null},venues:y,onSubmit:C,submitButtonText:c,successMessage:_,redirectTo:S}){const{data:a,setData:t,clearErrors:f,errors:s,setError:I}=G({...b}),[u,p]=k.useState(!1);async function q(){var e,d,m;f(),p(!0);try{await C(a),o({title:"Sukses",description:_}),N.visit(S)}catch(n){if(((e=n.response)==null?void 0:e.status)===422){const E=n.response.data.errors;I(E)}else o({variant:"destructive",title:"Gagal",description:((m=(d=n.response)==null?void 0:d.data)==null?void 0:m.message)||"Terjadi kesalahan"})}finally{p(!1)}}const V=[{value:"available",label:"Tersedia"},{value:"maintenance",label:"Maintenance"},{value:"closed",label:"Ditutup"}];return r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-4 gap-y-4",children:[r.jsx(l,{label:"Venue",error:s.venue_id,required:!0,children:r.jsxs(h,{value:a.venue_id.toString(),onValueChange:e=>t("venue_id",parseInt(e)),children:[r.jsx(g,{children:r.jsx(x,{placeholder:"Pilih Venue"})}),r.jsx(j,{children:y.map(e=>r.jsx(v,{value:e.id.toString(),children:e.name},e.id))})]})}),r.jsx(l,{label:"Nama Court",error:s.name,required:!0,children:r.jsx(i,{type:"text",value:a.name,onChange:e=>{t("name",e.target.value)},placeholder:"Contoh: Court A"})}),r.jsx(l,{label:"Tipe Court",error:s.court_type,required:!0,children:r.jsx(i,{type:"text",value:a.court_type,onChange:e=>{t("court_type",e.target.value)},placeholder:"Contoh: Indoor, Outdoor"})}),r.jsx(l,{label:"Harga per Jam",error:s.price_per_hour,required:!0,children:r.jsx(i,{type:"number",value:a.price_per_hour,onChange:e=>{t("price_per_hour",parseInt(e.target.value))},placeholder:"Contoh: 150000"})}),r.jsx(l,{label:"Kapasitas",error:s.capacity,required:!0,children:r.jsx(i,{type:"number",value:a.capacity,onChange:e=>{t("capacity",parseInt(e.target.value))},placeholder:"Contoh: 4",min:"1"})}),r.jsx(l,{label:"Status",error:s.status,required:!0,children:r.jsxs(h,{value:a.status,onValueChange:e=>t("status",e),children:[r.jsx(g,{children:r.jsx(x,{placeholder:"Pilih Status"})}),r.jsx(j,{children:V.map(e=>r.jsx(v,{value:e.value,children:e.label},e.value))})]})}),r.jsx(l,{label:"Gambar",error:s.image,children:r.jsx(P,{initialValue:a.image,label:"",onSuccess:e=>{t("image",e),o({title:"Sukses",description:"Gambar berhasil diunggah"})},onError:e=>{o({variant:"destructive",title:"Gagal",description:e})}})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx(F,{disabled:u,onClick:q,children:u?`${c}...`:c})})]})})}export{X as default};
