import{W as g,r as j,j as r,a as _,y}from"./app-CQ-G37p-.js";import{h as n}from"./moment-C5S46NFB.js";import{t as h}from"./use-toast-XJEkqv7A.js";import{A as Y}from"./AuthenticatedLayout-X6euxa7E.js";import{B as D}from"./button-ymMXdPy5.js";import{I as s}from"./input-BXXA-PDa.js";import{F as o}from"./form-group-CHZXn8bM.js";import{T as C}from"./textarea-BvykTLwI.js";import{S as M}from"./SearchVendor-DVTa9TJs.js";import{M as S}from"./money-input-Bb590VQ4.js";import{S as q}from"./SearchDivision-Budjprvk.js";import"./index-D0iIn24t.js";import"./createLucideIcon-iWXofaGH.js";import"./index-DqZ46QiR.js";import"./index-BHS3gC_j.js";import"./index-B9C1SM0Q.js";import"./tslib.es6-eMSY344_.js";import"./index-uJ2KZHf0.js";import"./x-D2Pel9EU.js";import"./index-C7S3ohsj.js";import"./index-B9VoEdXn.js";import"./can-DARgw7Bo.js";import"./chevron-right-DWL5tPD-.js";import"./badge-CsIJHFj0.js";import"./currency-formatter-D5vTOkIG.js";import"./triangle-alert-byTh5Szo.js";import"./calendar-BV_-Gsoc.js";import"./label-Blk7FhF1.js";import"./card-Bq41eL_q.js";import"./loader-circle-i2ANfqrZ.js";import"./search-B9EA-nRY.js";function T({division:d}){var u,p,c,v;const{data:a,setData:t,errors:i,setError:b,clearErrors:x}=g({vendor_id:"",due_date:n().format("YYYY-MM-DD"),amount:"0",invoice_number:""}),[m,l]=j.useState(!1),f=async()=>{l(!0);try{x();const e=await _.post("/admin/debt",{...a,date:n(a.date).format("YYYY-MM-DD"),due_date:n(a.due_date).format("YYYY-MM-DD")});y.visit("/admin/debt/create"),h({title:"Berhasil",description:"Hutang berhasil disimpan"})}catch(e){e.response.status==422?b(e.response.data.errors):h({variant:"destructive",title:"Gagal",description:e.response.data.message})}finally{l(!1)}};return r.jsxs("div",{className:"pt-5  px-5",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[r.jsx(o,{name:"division_id",label:"Divisi",required:!0,error:i.division_id,children:r.jsx(q,{value:{id:a.division_id??"",code:((u=a.division)==null?void 0:u.code)??"",name:((p=a.division)==null?void 0:p.name)??""},onChange:e=>{t({...a,division_id:e.id,division:e})}})}),r.jsx(o,{name:"vendor_id",label:"Vendor",required:!0,error:i.vendor_id,children:r.jsx(M,{value:{id:a.vendor_id??"",code:((c=a.vendor)==null?void 0:c.code)??"",name:((v=a.vendor)==null?void 0:v.name)??""},onChange:e=>{t({...a,vendor_id:e.id,vendor:e})}})}),r.jsx(o,{name:"invoice_number",label:"Nomor Invoice",error:i.invoice_number,children:r.jsx(s,{type:"text",value:a.invoice_number,onChange:e=>t("invoice_number",e.target.value)})}),r.jsx(o,{name:"text",label:"Jumlah",required:!0,error:i.amount,children:r.jsx(S,{value:a.amount,onValueChange:e=>t("amount",e)})}),r.jsx(o,{name:"date",label:"Tanggal",required:!0,error:i.date,children:r.jsx(s,{type:"date",value:a.date,onChange:e=>t("date",e.target.value)})}),r.jsx(o,{name:"date",label:"Jatuh Tempo",required:!0,error:i.due_date,children:r.jsx(s,{type:"date",value:a.due_date,onChange:e=>t("due_date",e.target.value)})}),r.jsx(o,{name:"notes",label:"Catatan",error:i.notes,children:r.jsx(C,{value:a.notes,onChange:e=>t("notes",e.target.value)})})]}),r.jsx(D,{type:"button",onClick:f,disabled:m,children:m?"Menyimpan...":"Simpan"})]})}T.layout=d=>r.jsx(Y,{breadcrumbs:[{label:"Dashboard",href:"/admin/"},{label:"Akuntansi",href:"#"},{label:"Hutang",href:"/admin/debt"},{label:"Tambah",href:"#"}],children:d});export{T as default};
