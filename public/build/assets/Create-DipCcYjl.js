import{W as g,r as _,j as r,a as j,y}from"./app-CQ-G37p-.js";import{h as s}from"./moment-C5S46NFB.js";import{t as b}from"./use-toast-XJEkqv7A.js";import{A as C}from"./AuthenticatedLayout-X6euxa7E.js";import{B as Y}from"./button-ymMXdPy5.js";import{I as n}from"./input-BXXA-PDa.js";import{F as i}from"./form-group-CHZXn8bM.js";import{T as D}from"./textarea-BvykTLwI.js";import{S as M}from"./SearchCustomer-BbTZ5_2l.js";import{M as S}from"./money-input-Bb590VQ4.js";import{S as q}from"./SearchDivision-Budjprvk.js";import"./index-D0iIn24t.js";import"./createLucideIcon-iWXofaGH.js";import"./index-DqZ46QiR.js";import"./index-BHS3gC_j.js";import"./index-B9C1SM0Q.js";import"./tslib.es6-eMSY344_.js";import"./index-uJ2KZHf0.js";import"./x-D2Pel9EU.js";import"./index-C7S3ohsj.js";import"./index-B9VoEdXn.js";import"./can-DARgw7Bo.js";import"./chevron-right-DWL5tPD-.js";import"./badge-CsIJHFj0.js";import"./currency-formatter-D5vTOkIG.js";import"./triangle-alert-byTh5Szo.js";import"./calendar-BV_-Gsoc.js";import"./label-Blk7FhF1.js";import"./card-Bq41eL_q.js";import"./loader-circle-i2ANfqrZ.js";import"./search-B9EA-nRY.js";function T({division:m}){var l,p,c,h;const{data:a,setData:t,errors:o,setError:v,clearErrors:x}=g({customer_id:"",due_date:s().format("YYYY-MM-DD"),amount:"0",purchase_order_number:""}),[d,u]=_.useState(!1),f=async()=>{u(!0);try{x();const e=await j.post("/admin/receivable",{...a,date:s(a.date).format("YYYY-MM-DD"),due_date:s(a.due_date).format("YYYY-MM-DD")});y.visit("/admin/receivable/create"),b({title:"Berhasil",description:"Piutang berhasil disimpan"})}catch(e){e.response.status==422?v(e.response.data.errors):b({variant:"destructive",title:"Gagal",description:e.response.data.message})}finally{u(!1)}};return r.jsxs("div",{className:"pt-5  px-5",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[r.jsx(i,{name:"division_id",label:"Divisi",required:!0,error:o.division_id,children:r.jsx(q,{value:{id:a.division_id??"",code:((l=a.division)==null?void 0:l.code)??"",name:((p=a.division)==null?void 0:p.name)??""},onChange:e=>{t({...a,division_id:e.id,division:e})}})}),r.jsx(i,{name:"customer_id",label:"Customer",required:!0,error:o.customer_id,children:r.jsx(M,{value:{id:a.customer_id??"",code:((c=a.customer)==null?void 0:c.code)??"",name:((h=a.customer)==null?void 0:h.name)??""},onChange:e=>{t({...a,customer_id:e.id,customer:e})}})}),r.jsx(i,{name:"text",label:"Nomor PO",error:o.purchase_order_number,children:r.jsx(n,{value:a.purchase_order_number,onChange:e=>t("purchase_order_number",e.target.value)})}),r.jsx(i,{name:"text",label:"Jumlah",required:!0,error:o.amount,children:r.jsx(S,{value:a.amount,onValueChange:e=>t("amount",e)})}),r.jsx(i,{name:"date",label:"Tanggal",required:!0,error:o.date,children:r.jsx(n,{type:"date",value:a.date,onChange:e=>t("date",e.target.value)})}),r.jsx(i,{name:"date",label:"Jatuh Tempo",required:!0,error:o.due_date,children:r.jsx(n,{type:"date",value:a.due_date,onChange:e=>t("due_date",e.target.value)})}),r.jsx(i,{name:"notes",label:"Catatan",error:o.notes,children:r.jsx(D,{value:a.notes,onChange:e=>t("notes",e.target.value)})})]}),r.jsx(Y,{type:"button",onClick:f,disabled:d,children:d?"Menyimpan...":"Simpan"})]})}T.layout=m=>r.jsx(C,{breadcrumbs:[{label:"Dashboard",href:"/admin/"},{label:"Akuntansi",href:"#"},{label:"Piutang",href:"/admin/receivable"},{label:"Tambah",href:"#"}],children:m});export{T as default};
