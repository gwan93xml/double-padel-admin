import{j as r}from"./app-CQ-G37p-.js";import{R as s}from"./report-list-CoUR2Q-E.js";import{B as p}from"./button-ymMXdPy5.js";import{F as m}from"./form-group-CHZXn8bM.js";import{I as l}from"./input-BXXA-PDa.js";import{C as o}from"./currency-formatter-D5vTOkIG.js";import{D as h}from"./date-filter-BrNgVtk9.js";import{A as c}from"./AuthenticatedLayout-X6euxa7E.js";import{S as x}from"./search-B9EA-nRY.js";import"./table-BSdxGOLt.js";import"./createLucideIcon-iWXofaGH.js";import"./card-Bq41eL_q.js";import"./list-DIayZXqH.js";import"./filter-BZN7rDIQ.js";import"./file-text-vhY6aTSF.js";import"./file-spreadsheet-Dv5Qp-1R.js";import"./index-D0iIn24t.js";import"./label-Blk7FhF1.js";import"./index-DqZ46QiR.js";import"./index-Cu_r977E.js";import"./index-D-8iXXsP.js";import"./calendar-BV_-Gsoc.js";import"./calendar-days-CaBtbxTM.js";import"./index-BHS3gC_j.js";import"./index-B9C1SM0Q.js";import"./tslib.es6-eMSY344_.js";import"./index-uJ2KZHf0.js";import"./x-D2Pel9EU.js";import"./index-C7S3ohsj.js";import"./index-B9VoEdXn.js";import"./can-DARgw7Bo.js";import"./chevron-right-DWL5tPD-.js";import"./use-toast-XJEkqv7A.js";import"./badge-CsIJHFj0.js";import"./moment-C5S46NFB.js";import"./triangle-alert-byTh5Szo.js";function g(){const i={search:"",dateType:"date",year:"",monthFrom:"",monthTo:"",date:new Date().toISOString().split("T")[0],dateFrom:"",dateTo:""},d=[{header:"No",key:"no",renderCell:(e,a)=>a+1},{header:"Kode",key:"code",renderCell:e=>e.item.code},{header:"Nama",key:"name",renderCell:e=>e.item.name},{header:"SISA(AC)",key:"jumlah",renderCell:e=>r.jsx("div",{className:"text-right",children:e.jumlah})},{header:"@NILAI",key:"harga",renderCell:e=>r.jsxs("div",{className:"text-right",children:[r.jsx(o,{amount:Number(e.harga)}),r.jsxs("div",{className:"text-xs text-gray-500",children:["per ",e.satuan_harga]})]})},{header:"HARGA TERAKHIR",key:"harga_terakhir",renderCell:e=>r.jsx("div",{className:"text-right",children:e.harga_terakhir?r.jsxs(r.Fragment,{children:[r.jsx(o,{amount:Number(e.harga_terakhir)}),r.jsxs("div",{className:"text-xs text-gray-500",children:["per ",e.satuan_harga_terakhir]}),e.tanggal_harga_terakhir&&r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(e.tanggal_harga_terakhir).toLocaleDateString("id-ID")})]}):r.jsx("span",{className:"text-gray-400",children:"-"})})},{header:"NILAI",key:"total",renderCell:e=>r.jsx(o,{amount:Number(e.total)}),renderFooter:e=>r.jsx(o,{amount:e.reduce((a,t)=>a+parseFloat(String(t.total)),0)})}];return r.jsx(s,{title:"Laporan Nilai Stok",description:"Daftar nilai stok berdasarkan perhitungan actual (ItemIn - ItemOut + Purchase - Sale)",fetchUrl:"/admin/stock-report/list",exportPdfUrl:e=>{const a=new URLSearchParams;return e.search&&a.append("search",e.search),e.dateType&&a.append("dateType",e.dateType),e.year&&a.append("year",e.year),e.monthFrom&&a.append("monthFrom",e.monthFrom),e.monthTo&&a.append("monthTo",e.monthTo),e.date&&a.append("date",e.date),e.dateFrom&&a.append("dateFrom",e.dateFrom),e.dateTo&&a.append("dateTo",e.dateTo),`/admin/stock-report/export/pdf?${a.toString()}`},exportExcelUrl:e=>{const a=new URLSearchParams;return e.search&&a.append("search",e.search),e.dateType&&a.append("dateType",e.dateType),e.year&&a.append("year",e.year),e.monthFrom&&a.append("monthFrom",e.monthFrom),e.monthTo&&a.append("monthTo",e.monthTo),e.date&&a.append("date",e.date),e.dateFrom&&a.append("dateFrom",e.dateFrom),e.dateTo&&a.append("dateTo",e.dateTo),`/admin/stock-report/export/excel?${a.toString()}`},initialFilters:i,renderFilter:(e,a,t)=>r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-end",children:[r.jsx("div",{className:"lg:col-span-4",children:r.jsx(m,{label:"Cari Item",children:r.jsx(l,{placeholder:"Cari berdasarkan kode atau nama item",value:e.search||"",onChange:n=>a({...e,search:n.target.value}),onKeyDown:n=>{n.key==="Enter"&&t()}})})}),r.jsx("div",{className:"lg:col-span-6",children:r.jsx(m,{label:"Periode Tanggal",children:r.jsx(h,{f:e,setF:a})})}),r.jsx("div",{className:"lg:col-span-2 flex justify-end",children:r.jsxs(p,{onClick:t,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(x,{className:"h-4 w-4 mr-2"})," Tampilkan"]})})]}),columns:d})}g.layout=i=>r.jsx(c,{breadcrumbs:[{label:"Dashboard",href:"/admin/"},{label:"Laporan",href:"#"},{label:"Nilai Stok",href:"#"}],children:i});export{g as default};
