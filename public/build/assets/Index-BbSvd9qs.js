import{W as j,r as D,j as a}from"./app-CQ-G37p-.js";import{A as K}from"./AuthenticatedLayout-X6euxa7E.js";import{C as b,a as N,b as g,d as v}from"./card-Bq41eL_q.js";import{B as c}from"./button-ymMXdPy5.js";import{t as B}from"./use-toast-XJEkqv7A.js";import O from"./Form-CBy-qKU3.js";import{T as E,a as R,b as k,c as n,d as z,e as l}from"./table-BSdxGOLt.js";import{P as w}from"./plus-gEoqNGty.js";import{S as C}from"./save-CHEDKyco.js";import{S as H}from"./square-pen-Pz9x-bS-.js";import{T as I}from"./trash-C6VGYEst.js";import"./index-D0iIn24t.js";import"./createLucideIcon-iWXofaGH.js";import"./input-BXXA-PDa.js";import"./index-DqZ46QiR.js";import"./index-BHS3gC_j.js";import"./index-B9C1SM0Q.js";import"./tslib.es6-eMSY344_.js";import"./index-uJ2KZHf0.js";import"./x-D2Pel9EU.js";import"./index-C7S3ohsj.js";import"./index-B9VoEdXn.js";import"./can-DARgw7Bo.js";import"./chevron-right-DWL5tPD-.js";import"./badge-CsIJHFj0.js";import"./currency-formatter-D5vTOkIG.js";import"./moment-C5S46NFB.js";import"./triangle-alert-byTh5Szo.js";import"./calendar-BV_-Gsoc.js";import"./SearchChartOfAccount-0Jd4yGJY.js";import"./loader-circle-i2ANfqrZ.js";import"./search-B9EA-nRY.js";import"./file-text-vhY6aTSF.js";import"./form-group-CHZXn8bM.js";import"./label-Blk7FhF1.js";import"./select-BSIJzAmS.js";import"./index-CZ_DqijM.js";import"./chevron-down-BOk5s691.js";import"./save-all-B17KMgUV.js";import"./rotate-ccw-CoUcsd2p.js";function M({defaultChartOfAccounts:i}){const{data:s,setData:m,post:y,errors:q,processing:r}=j({default_chart_of_accounts:i}),{data:S,setData:d}=j({name:""}),[o,h]=D.useState(-1);function f(){y("/admin/default-chart-of-account",{onSuccess:()=>{B({title:"Berhasil",description:"Kode Perkiraan Standar Berhasil Disimpan"})}})}function P(t){if(o>=0){const e=[...s.default_chart_of_accounts];e[o]=t,m("default_chart_of_accounts",e)}else m("default_chart_of_accounts",[...s.default_chart_of_accounts,t]);d({name:"",chart_of_account_id:"",chart_of_account:void 0}),h(-1)}function T(t){const e=[...s.default_chart_of_accounts];e.splice(t,1),m("default_chart_of_accounts",e)}function p(t){const e=s.default_chart_of_accounts[t];d({name:e.name,chart_of_account_id:e.chart_of_account_id,chart_of_account:e.chart_of_account}),h(t),window.scrollTo({top:0,behavior:"smooth"})}function A(){d({name:"",chart_of_account_id:"",chart_of_account:void 0}),h(-1)}return a.jsx("div",{className:"min-h-screen ",children:a.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Kode Perkiraan Standar"}),a.jsx("p",{className:" mt-1",children:"Kelola kode perkiraan standar untuk sistem akuntansi"})]})}),a.jsxs(b,{className:"shadow-sm ",children:[a.jsx(N,{className:"border-b ",children:a.jsxs(g,{className:"text-lg font-semibold  flex items-center gap-2",children:[a.jsx(w,{className:"h-5 w-5 text-blue-600"}),o>=0?"Edit Kode Perkiraan":"Tambah Kode Perkiraan Baru"]})}),a.jsx(v,{className:"p-6",children:a.jsx(O,{onSave:P,defaultChartOfAccount:S,onReset:A})})]}),a.jsxs(b,{className:"",children:[a.jsx(N,{className:"border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(g,{className:"text-lg font-semibold",children:["Daftar Kode Perkiraan (",s.default_chart_of_accounts.length,")"]}),s.default_chart_of_accounts.length>0&&a.jsxs(c,{onClick:f,disabled:r,className:"bg-green-600 hover:bg-green-700  shadow-sm",size:"sm",children:[a.jsx(C,{className:"h-4 w-4 mr-2"}),r?"Menyimpan...":"Simpan Semua"]})]})}),a.jsx(v,{className:"p-0",children:s.default_chart_of_accounts.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(w,{className:"h-12 w-12 mx-auto opacity-50"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Belum ada data"}),a.jsx("p",{className:"",children:"Tambahkan kode perkiraan standar pertama Anda"})]}):a.jsx("div",{className:"overflow-hidden",children:a.jsxs(E,{children:[a.jsx(R,{children:a.jsxs(k,{className:"",children:[a.jsx(n,{className:"w-16 text-center font-semibold ",children:"No"}),a.jsx(n,{className:"font-semibold ",children:"Nama"}),a.jsx(n,{className:"font-semibold ",children:"Kode Perkiraan"}),a.jsx(n,{className:"w-24 text-center font-semibold ",children:"Aksi"})]})}),a.jsx(z,{children:s.default_chart_of_accounts.map((t,e)=>{var x,_;return a.jsxs(k,{className:`cursor-pointer transition-colors duration-150 hover:bg-blue-50/50 ${o===e?"bg-blue-50 border-l-4 border-l-blue-500":""}`,onClick:()=>p(e),children:[a.jsx(l,{className:"text-center font-medium ",children:e+1}),a.jsx(l,{className:"font-medium ",children:t.name}),a.jsx(l,{className:"",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded text-sm font-mono",children:(x=t.chart_of_account)==null?void 0:x.code}),a.jsx("span",{children:(_=t.chart_of_account)==null?void 0:_.name})]})}),a.jsx(l,{className:"text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx(c,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:u=>{u.stopPropagation(),p(e)},children:a.jsx(H,{className:"h-4 w-4"})}),a.jsx(c,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:u=>{u.stopPropagation(),T(e)},children:a.jsx(I,{className:"h-4 w-4"})})]})})]},e)})})]})})})]}),s.default_chart_of_accounts.length>0&&a.jsx("div",{className:"flex justify-end",children:a.jsxs(c,{onClick:f,disabled:r,className:"bg-green-600 hover:bg-green-700 text-white shadow-sm px-8",children:[a.jsx(C,{className:"h-4 w-4 mr-2"}),r?"Menyimpan...":"Simpan Semua Perubahan"]})})]})})}M.layout=i=>a.jsx(K,{breadcrumbs:[{label:"Dashboard",href:"/admin"},{label:"Pengaturan",href:"#"},{label:"Kode Perkiraan Standar",href:"#"}],children:i});export{M as default};
