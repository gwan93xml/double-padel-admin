import{j as a}from"./app-CQ-G37p-.js";import{D as j,a as x,b as c,c as F,d as b}from"./dialog-CBBIkam9.js";import{B as d}from"./button-ymMXdPy5.js";import{F as n}from"./form-group-CHZXn8bM.js";import{T as S}from"./textarea-BvykTLwI.js";import{S as _}from"./SearchItem-DGpcvLrN.js";import{S as C}from"./SearchSubUnit-CTrUekdR.js";import{M as p}from"./money-input-Bb590VQ4.js";import"./index-BHS3gC_j.js";import"./index-B9C1SM0Q.js";import"./index-DqZ46QiR.js";import"./index-D0iIn24t.js";import"./tslib.es6-eMSY344_.js";import"./index-uJ2KZHf0.js";import"./createLucideIcon-iWXofaGH.js";import"./x-D2Pel9EU.js";import"./label-Blk7FhF1.js";import"./input-BXXA-PDa.js";import"./card-Bq41eL_q.js";import"./badge-CsIJHFj0.js";import"./loader-circle-i2ANfqrZ.js";import"./search-B9EA-nRY.js";import"./package-Cd0mGsRo.js";import"./select-BSIJzAmS.js";import"./index-C7S3ohsj.js";import"./index-B9VoEdXn.js";import"./index-CZ_DqijM.js";import"./chevron-down-BOk5s691.js";function T({open:e,onOpenChange:m,isEdit:s,purchaseReturnItem:i,setPurchaseReturnItem:l,errors:r,typeOfTax:t,onSave:g}){return a.jsx(j,{open:e,onOpenChange:m,children:a.jsxs(x,{className:"max-h-[80vh] overflow-y-auto",children:[a.jsx(c,{children:a.jsx(F,{children:s?"Edit Item":"Tambahkan item"})}),a.jsx(n,{label:"Item",error:r.item_id,name:"item_id",children:a.jsx(_,{onChange:o=>{l({...i,item_id:o.id,item_name:o.name,item:o,unit:o.unit,price:o.selling_price||"0"})},value:i.item?{id:i.item.id||"",code:i.item.code||"",name:i.item.name||"",purchase_price:i.item.purchase_price||"0",selling_price:i.item.selling_price||"0",unit:i.item.unit||"",description:i.item.description||"",stock:"0"}:void 0})}),a.jsx(n,{label:"Jumlah",error:r.quantity,name:"quantity",children:a.jsx(p,{value:i.quantity,className:"text-right",onValueChange:o=>{l({...i,quantity:o,subtotal:(parseFloat(i.price??"0")*parseFloat(o)).toString(),tax:(parseFloat(i.price??"0")*parseFloat(o)*parseFloat((t==null?void 0:t.rate)||"0")/100).toString()})}})}),a.jsx(n,{label:"Harga",error:r.price,name:"price",children:a.jsx(p,{value:i.price,className:"text-right",onValueChange:o=>{l({...i,price:o,subtotal:(parseFloat(o)*parseFloat(i.quantity??"0")).toString(),tax:(parseFloat(o)*parseFloat(i.quantity??"0")*parseFloat((t==null?void 0:t.rate)||"0")/100).toString()})}})}),a.jsx(n,{label:"Satuan",error:r.unit,name:"unit",children:a.jsx(C,{onChange:o=>{l({...i,unit:o})},value:i.unit,itemId:i.item_id})}),a.jsx(n,{label:"Catatan",error:r.notes,name:"notes",children:a.jsx(S,{value:i.notes,onChange:o=>{l({...i,notes:o.target.value})}})}),a.jsxs(b,{children:[a.jsx(d,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Batal"}),a.jsx(d,{type:"button",onClick:g,children:s?"Edit":"Tambah"})]})]})})}export{T as default};
