import{W as h,r as b,j as r,a as s,y as f}from"./app-CQ-G37p-.js";import{B as g}from"./button-ymMXdPy5.js";import{C as y,a as x,b as j,c as k,d as C,e as _}from"./card-Bq41eL_q.js";import{A as E}from"./AuthenticatedLayout-X6euxa7E.js";import{t as n}from"./use-toast-XJEkqv7A.js";import D from"./Form-JyaSIl9V.js";import"./index-D0iIn24t.js";import"./createLucideIcon-iWXofaGH.js";import"./input-BXXA-PDa.js";import"./index-DqZ46QiR.js";import"./index-BHS3gC_j.js";import"./index-B9C1SM0Q.js";import"./tslib.es6-eMSY344_.js";import"./index-uJ2KZHf0.js";import"./x-D2Pel9EU.js";import"./index-C7S3ohsj.js";import"./index-B9VoEdXn.js";import"./can-DARgw7Bo.js";import"./chevron-right-DWL5tPD-.js";import"./badge-CsIJHFj0.js";import"./currency-formatter-D5vTOkIG.js";import"./moment-C5S46NFB.js";import"./triangle-alert-byTh5Szo.js";import"./calendar-BV_-Gsoc.js";import"./loader-circle-i2ANfqrZ.js";import"./search-B9EA-nRY.js";import"./file-upload-dropzone-CNZ94Fyj.js";import"./index-Dhyve51-.js";import"./index-Cu_r977E.js";import"./circle-alert-DNqBTniX.js";import"./circle-check-big-DDOzmUMH.js";import"./eye-DwuHDobg.js";import"./download-o5rqL5cq.js";import"./form-group-CHZXn8bM.js";import"./label-Blk7FhF1.js";function F({company:e}){const{data:a,setData:m,clearErrors:p,reset:P,errors:d,setError:l}=h({...e}),[o,i]=b.useState(!1);async function c(){p(),i(!0);try{if(a.logo instanceof File){const t=new FormData;t.append("code",a.code??""),t.append("name",a.name??""),t.append("logo",a.logo),t.append("sale_code",a.sale_code??""),t.append("tagline",a.tagline??""),t.append("bank_account_id",a.bank_account_id?a.bank_account_id.toString():""),t.append("_method","PUT"),await s.post(`/admin/company/${a.id}`,t,{headers:{"Content-Type":"multipart/form-data"}})}else await s.put(`/admin/company/${a.id}`,a);n({title:"Sukses",description:"Data perusahaan berhasil diubah"}),f.visit("/admin/company")}catch(t){if(t.response.status===422){const u=t.response.data.errors;l(u)}else n({variant:"destructive",title:"Gagal",description:t.response.data.message})}finally{i(!1)}}return r.jsxs(y,{className:"m-4 mb-64",children:[r.jsxs(x,{children:[r.jsx(j,{children:"Edit Perusahaan"}),r.jsx(k,{children:"Halaman ini digunakan untuk mengubah data perusahaan yang telah ada. Pastikan data yang dimasukkan sudah benar sebelum menyimpan perubahan."})]}),r.jsx(C,{children:r.jsx(D,{data:a,setData:m,errors:d})}),r.jsx(_,{children:r.jsx(g,{disabled:o,onClick:c,children:o?"Mengubah...":"Ubah"})})]})}F.layout=e=>r.jsx(E,{breadcrumbs:[{label:"Dashboard",href:"/admin"},{label:"Master File",href:"#"},{label:"Perusahaan",href:"/admin/company"},{label:"Edit",href:"#"}],children:e});export{F as default};
