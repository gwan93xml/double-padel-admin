import{W as v,r as k,j as r,y}from"./app-xdIDsNuc.js";import{B as b}from"./index-D9fYs-5N.js";import{C as E,a as F,b as I,c as N,d as S}from"./card-DPe-xeUS.js";import{F as A}from"./form-group-DJppTG6k.js";import{I as D}from"./input-Pb5O0huv.js";import{t as c}from"./use-toast-BOfnQU58.js";import"./utils-jM7Hu9J5.js";import"./label-DxiqzSVl.js";function W({initialData:l={name:""},onSubmit:m,submitButtonText:e,successMessage:p,redirectTo:u}){const{data:t,setData:x,clearErrors:f,errors:h,setError:j}=v({...l}),[i,n]=k.useState(!1);async function C(){var s,o,d;f(),n(!0);try{await m(t),c({title:"Sukses",description:p}),y.visit(u)}catch(a){if(((s=a.response)==null?void 0:s.status)===422){const g=a.response.data.errors;j(g)}else c({variant:"destructive",title:"Gagal",description:((d=(o=a.response)==null?void 0:o.data)==null?void 0:d.message)||"Terjadi kesalahan"})}finally{n(!1)}}return r.jsx("div",{className:"p-5",children:r.jsxs(E,{children:[r.jsxs(F,{children:[r.jsx(I,{children:"Form Aksi"}),r.jsx(N,{children:"Isikan data aksi dengan benar"})]}),r.jsxs(S,{children:[r.jsx("div",{className:"mb-4",children:r.jsx(A,{label:"Nama",error:h.name,required:!0,children:r.jsx(D,{type:"text",value:t.name,onChange:s=>{x("name",s.target.value)}})})}),r.jsx(b,{disabled:i,onClick:C,children:i?`${e}...`:e})]})]})})}export{W as default};
