import{W as E,r as I,j as e,y as N}from"./app-xdIDsNuc.js";import{B as y}from"./index-D9fYs-5N.js";import{C as F,a as T,b as _,c as q,d as B}from"./card-DPe-xeUS.js";import{F as o}from"./form-group-DJppTG6k.js";import{I as u}from"./input-Pb5O0huv.js";import{I as G}from"./ImageUploader-r4l5jz7T.js";import{C as K}from"./CKEditorComponent-Brj_gHGO.js";import{t as l}from"./use-toast-BOfnQU58.js";import{S as P,a as V,b as D,c as H,d as w}from"./select-CnbTIwKL.js";import"./utils-jM7Hu9J5.js";import"./label-DxiqzSVl.js";import"./createLucideIcon-D9qBrcbq.js";import"./x-Cp6Dz_ky.js";import"./check-B2a_CU3u.js";import"./index-CltWYr8P.js";import"./index-4rFdga_w.js";import"./index-Dy_V4ZJ5.js";import"./index-CCSo0cdO.js";import"./index-DY1xKekZ.js";function ie({initialData:g={category_id:"",title:"",content:"",image:"",tags:""},onSubmit:x,submitButtonText:d,successMessage:j,redirectTo:v,categories:f=[]}){var p;const{data:t,setData:s,clearErrors:C,errors:a,setError:b}=E({...g}),[c,m]=I.useState(!1);async function S(){var r,i,h;C(),m(!0);try{await x(t),l({title:"Sukses",description:j}),N.visit(v)}catch(n){if(((r=n.response)==null?void 0:r.status)===422){const k=n.response.data.errors;b(k)}else l({variant:"destructive",title:"Gagal",description:((h=(i=n.response)==null?void 0:i.data)==null?void 0:h.message)||"Terjadi kesalahan"})}finally{m(!1)}}return e.jsx("div",{className:"p-5",children:e.jsxs(F,{children:[e.jsxs(T,{children:[e.jsx(_,{children:"Form Blog"}),e.jsx(q,{children:"Isikan data blog dengan benar"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Kategori",error:a.category_id,required:!0,children:e.jsxs(P,{value:(p=t.category_id)==null?void 0:p.toString(),onValueChange:r=>s("category_id",r),children:[e.jsx(V,{children:e.jsx(D,{placeholder:"Pilih kategori"})}),e.jsx(H,{children:f.map(r=>{var i;return e.jsx(w,{value:((i=r==null?void 0:r.id)==null?void 0:i.toString())??"",children:r.name},r.id)})})]})})}),e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Judul",error:a.title,required:!0,children:e.jsx(u,{type:"text",value:t.title,onChange:r=>{s("title",r.target.value)}})})}),e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Konten",error:a.content,required:!0,children:e.jsx(K,{value:t.content||"",onChange:r=>s("content",r),error:a.content,placeholder:"Tulis konten blog di sini..."})})}),e.jsx("div",{className:"mb-4",children:e.jsx(o,{error:a.image,children:e.jsx(G,{maxHeight:400,initialValue:t.image,onSuccess:r=>{s("image",r)},onError:r=>{l({variant:"destructive",title:"Gagal",description:r})}})})}),e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Tag",error:a.tags,children:e.jsx(u,{type:"text",value:t.tags,onChange:r=>{s("tags",r.target.value)},placeholder:"Pisahkan dengan koma"})})}),e.jsx(y,{disabled:c,onClick:S,children:c?`${d}...`:d})]})]})})}export{ie as default};
