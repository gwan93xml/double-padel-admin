import{r as m,j as n}from"./app-CQ-G37p-.js";import{S as _}from"./SearchDivision-Budjprvk.js";import{F as s}from"./form-group-CHZXn8bM.js";import{I as a}from"./input-BXXA-PDa.js";import y from"./JournalTransactionForm-Begwi_Or.js";import J from"./JournalTransactionList-B2e9Qvd-.js";import"./button-ymMXdPy5.js";import"./index-D0iIn24t.js";import"./createLucideIcon-iWXofaGH.js";import"./search-B9EA-nRY.js";import"./x-D2Pel9EU.js";import"./label-Blk7FhF1.js";import"./index-DqZ46QiR.js";import"./SearchChartOfAccount-0Jd4yGJY.js";import"./card-Bq41eL_q.js";import"./badge-CsIJHFj0.js";import"./loader-circle-i2ANfqrZ.js";import"./file-text-vhY6aTSF.js";import"./money-input-Bb590VQ4.js";import"./select-BSIJzAmS.js";import"./index-B9C1SM0Q.js";import"./tslib.es6-eMSY344_.js";import"./index-C7S3ohsj.js";import"./index-B9VoEdXn.js";import"./index-CZ_DqijM.js";import"./chevron-down-BOk5s691.js";import"./use-toast-XJEkqv7A.js";import"./index-BiiFumPK.js";import"./save-all-B17KMgUV.js";import"./currency-formatter-D5vTOkIG.js";import"./table-BSdxGOLt.js";import"./trash-C6VGYEst.js";function en({errors:t,data:o,setData:i}){var x,f;const[h,j]=m.useState({transaction_type:"",notes:"",amount:0,chart_of_account_id:"",chart_of_account:void 0,debit:0,credit:0}),[p,l]=m.useState(null),d=m.useRef(null);function v(r){if(p!==null){const e=o.transactions.map((c,u)=>u===p?{...c,...r}:c);i({...o,transactions:e})}else i({...o,transactions:[...o.transactions||[],r]});l(null)}function T(){l(null)}function g(r){const e=o.transactions.filter((c,u)=>u!==r);i({...o,transactions:e})}function b(r,e){j(r),l(e)}return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"grid grid-cols-4 gap-x-4  gap-y-4",children:[n.jsx(s,{label:"ID",error:t.id,required:!0,children:n.jsx(a,{type:"text",disabled:!0,value:o.id??"???"})}),n.jsx(s,{label:"Nomor",error:t.number,required:!0,children:n.jsx(a,{type:"text",disabled:!0,value:o.number??"???",onChange:r=>{i("number",r.target.value)}})}),n.jsx(s,{label:"Tanggal",error:t.date,required:!0,children:n.jsx(a,{type:"date",value:o.date,onChange:r=>{i("date",r.target.value)}})}),n.jsx(s,{label:"Divisi",error:t.division_id,required:!0,children:n.jsx(_,{value:{id:o.division_id,name:((x=o.division)==null?void 0:x.name)||"",code:((f=o.division)==null?void 0:f.code)||""},onChange:r=>{i({...o,division_id:r.id,division:r})}})}),n.jsx("div",{className:"col-span-4",children:n.jsx(s,{label:"Catatan",error:t.notes,children:n.jsx(a,{type:"text",value:o.notes,onChange:r=>{i("notes",r.target.value)},onKeyDown:r=>{var e;r.key==="Enter"&&(r.preventDefault(),(e=d.current)==null||e.focusTransactionType())}})})}),n.jsx("div",{className:"col-span-4 mb-4",children:n.jsx(y,{ref:d,journalTransaction:h,onSave:v,onReset:T})}),n.jsx("div",{className:"col-span-4 mb-4",children:n.jsx(s,{error:t.transactions,children:n.jsx(J,{data:o,onDelete:g,onEdit:b})})})]})})}export{en as default};
