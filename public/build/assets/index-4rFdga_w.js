import{r as d,R as h,j as _,c as v}from"./app-xdIDsNuc.js";import{u as y}from"./index-CltWYr8P.js";import{u as N,S as P}from"./index-D9fYs-5N.js";var O=h.useId||(()=>{}),T=0;function L(e){const[o,c]=d.useState(O());return y(()=>{c(C=>C??String(T++))},[e]),o?`radix-${o}`:""}function $(e,o=[]){let c=[];function C(i,n){const r=d.createContext(n),u=c.length;c=[...c,n];function S(m){const{scope:a,children:s,...t}=m,p=(a==null?void 0:a[e][u])||r,l=d.useMemo(()=>t,Object.values(t));return _.jsx(p.Provider,{value:l,children:s})}function I(m,a){const s=(a==null?void 0:a[e][u])||r,t=d.useContext(s);if(t)return t;if(n!==void 0)return n;throw new Error(`\`${m}\` must be used within \`${i}\``)}return S.displayName=i+"Provider",[S,I]}const f=()=>{const i=c.map(n=>d.createContext(n));return function(r){const u=(r==null?void 0:r[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...r,[e]:u}}),[r,u])}};return f.scopeName=e,[C,g(f,...o)]}function g(...e){const o=e[0];if(e.length===1)return o;const c=()=>{const C=e.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(i){const n=C.reduce((r,{useScope:u,scopeName:S})=>{const m=u(i)[`__scope${S}`];return{...r,...m}},{});return d.useMemo(()=>({[`__scope${o.scopeName}`]:n}),[n])}};return c.scopeName=o.scopeName,c}function k(e){const o=e+"CollectionProvider",[c,C]=$(o),[f,i]=c(o,{collectionRef:{current:null},itemMap:new Map}),n=s=>{const{scope:t,children:p}=s,l=v.useRef(null),x=v.useRef(new Map).current;return _.jsx(f,{scope:t,itemMap:x,collectionRef:l,children:p})};n.displayName=o;const r=e+"CollectionSlot",u=v.forwardRef((s,t)=>{const{scope:p,children:l}=s,x=i(r,p),R=N(t,x.collectionRef);return _.jsx(P,{ref:R,children:l})});u.displayName=r;const S=e+"CollectionItemSlot",I="data-radix-collection-item",m=v.forwardRef((s,t)=>{const{scope:p,children:l,...x}=s,R=v.useRef(null),E=N(t,R),M=i(S,p);return v.useEffect(()=>(M.itemMap.set(R,{ref:R,...x}),()=>void M.itemMap.delete(R))),_.jsx(P,{[I]:"",ref:E,children:l})});m.displayName=S;function a(s){const t=i(e+"CollectionConsumer",s);return v.useCallback(()=>{const l=t.collectionRef.current;if(!l)return[];const x=Array.from(l.querySelectorAll(`[${I}]`));return Array.from(t.itemMap.values()).sort((M,A)=>x.indexOf(M.ref.current)-x.indexOf(A.ref.current))},[t.collectionRef,t.itemMap])}return[{Provider:n,Slot:u,ItemSlot:m},a,C]}var j=d.createContext(void 0);function q(e){const o=d.useContext(j);return e||o||"ltr"}export{$ as a,L as b,k as c,q as u};
