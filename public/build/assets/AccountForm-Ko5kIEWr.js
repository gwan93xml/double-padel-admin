import{r as c,W as b,j as r,a as m}from"./app-CQ-G37p-.js";import{B as l}from"./button-ymMXdPy5.js";import{I as d}from"./input-BXXA-PDa.js";import{d as A}from"./dialog-CBBIkam9.js";import{A as B}from"./index-BiiFumPK.js";import{F as p}from"./form-group-CHZXn8bM.js";import{t as C}from"./use-toast-XJEkqv7A.js";import"./index-D0iIn24t.js";import"./createLucideIcon-iWXofaGH.js";import"./index-BHS3gC_j.js";import"./index-B9C1SM0Q.js";import"./index-DqZ46QiR.js";import"./tslib.es6-eMSY344_.js";import"./index-uJ2KZHf0.js";import"./x-D2Pel9EU.js";import"./label-Blk7FhF1.js";function H({node:u,onSaved:f,onCancel:h}){const[F,x]=c.useState(0),{data:o,setData:g,errors:t,setError:j,clearErrors:v}=b(u),[s,i]=c.useState(!1),n=(e,a)=>g(E=>({...E,[e]:a}));async function y(){var e;v(),i(!0);try{if(o.id){const a=await m.put(`/admin/chart-of-account/${o.id}`,o)}else{const a=await m.post("/admin/chart-of-account",o)}C({variant:"default",title:"Berhasil",description:"Akun berhasil disimpan."}),f(),x(a=>a+1)}catch(a){a instanceof B&&j(((e=a.response)==null?void 0:e.data.errors)||{})}finally{i(!1)}}return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsx(p,{label:"Kode",error:t.code,required:!0,children:r.jsx(d,{id:"code",value:o.code,onChange:e=>n("code",e.target.value)})}),r.jsx(p,{label:"Nama",error:t.name,required:!0,children:r.jsx(d,{id:"name",value:o.name,onChange:e=>n("name",e.target.value)})})]}),r.jsxs(A,{className:"space-x-2",children:[r.jsx(l,{variant:"outline",onClick:h,children:"Batal"}),r.jsx(l,{onClick:y,disabled:s,children:s?"Menyimpan...":"Simpan"})]})]})}export{H as default};
