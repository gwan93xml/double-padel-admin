import{r as s,j as u}from"./app-CQ-G37p-.js";import{u as A,a as T,c as H}from"./index-D-8iXXsP.js";import{c as I,u as y,P as C}from"./index-Cu_r977E.js";import{c as k}from"./createLucideIcon-iWXofaGH.js";function M(e){const t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function O(e){const[t,r]=s.useState(void 0);return A(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const d=o[0];let a,n;if("borderBoxSize"in d){const c=d.borderBoxSize,f=Array.isArray(c)?c[0]:c;a=f.inlineSize,n=f.blockSize}else a=e.offsetWidth,n=e.offsetHeight;r({width:a,height:n})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),t}var S="Switch",[L,K]=I(S),[U,W]=L(S),E=s.forwardRef((e,t)=>{const{__scopeSwitch:r,name:i,checked:o,defaultChecked:d,required:a,disabled:n,value:c="on",onCheckedChange:f,form:l,...w}=e,[p,h]=s.useState(null),m=y(t,v=>h(v)),g=s.useRef(!1),x=p?l||!!p.closest("form"):!0,[b,_]=T({prop:o,defaultProp:d??!1,onChange:f,caller:S});return u.jsxs(U,{scope:r,checked:b,disabled:n,children:[u.jsx(C.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":N(b),"data-disabled":n?"":void 0,disabled:n,value:c,...w,ref:m,onClick:H(e.onClick,v=>{_(B=>!B),x&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),x&&u.jsx(z,{control:p,bubbles:!g.current,name:i,value:c,checked:b,required:a,disabled:n,form:l,style:{transform:"translateX(-100%)"}})]})});E.displayName=S;var P="SwitchThumb",R=s.forwardRef((e,t)=>{const{__scopeSwitch:r,...i}=e,o=W(P,r);return u.jsx(C.span,{"data-state":N(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})});R.displayName=P;var q="SwitchBubbleInput",z=s.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:i=!0,...o},d)=>{const a=s.useRef(null),n=y(a,d),c=M(r),f=O(t);return s.useEffect(()=>{const l=a.current;if(!l)return;const w=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(w,"checked").set;if(c!==r&&h){const m=new Event("click",{bubbles:i});h.call(l,r),l.dispatchEvent(m)}},[c,r,i]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:n,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});z.displayName=q;function N(e){return e?"checked":"unchecked"}var j=E,D=R;const F=s.forwardRef(({className:e,...t},r)=>u.jsx(j,{className:k("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:u.jsx(D,{className:k("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));F.displayName=j.displayName;export{F as S};
