import{W as u,r as h,j as t,a as i,y as b}from"./app-CQ-G37p-.js";import{B as f}from"./button-ymMXdPy5.js";import{C as y,a as x,b as g,c as j,d as k,e as C}from"./card-Bq41eL_q.js";import{A as _}from"./AuthenticatedLayout-X6euxa7E.js";import{t as s}from"./use-toast-XJEkqv7A.js";import D from"./Form-JyaSIl9V.js";import"./index-D0iIn24t.js";import"./createLucideIcon-iWXofaGH.js";import"./input-BXXA-PDa.js";import"./index-DqZ46QiR.js";import"./index-BHS3gC_j.js";import"./index-B9C1SM0Q.js";import"./tslib.es6-eMSY344_.js";import"./index-uJ2KZHf0.js";import"./x-D2Pel9EU.js";import"./index-C7S3ohsj.js";import"./index-B9VoEdXn.js";import"./can-DARgw7Bo.js";import"./chevron-right-DWL5tPD-.js";import"./badge-CsIJHFj0.js";import"./currency-formatter-D5vTOkIG.js";import"./moment-C5S46NFB.js";import"./triangle-alert-byTh5Szo.js";import"./calendar-BV_-Gsoc.js";import"./loader-circle-i2ANfqrZ.js";import"./search-B9EA-nRY.js";import"./file-upload-dropzone-CNZ94Fyj.js";import"./index-Dhyve51-.js";import"./index-Cu_r977E.js";import"./circle-alert-DNqBTniX.js";import"./circle-check-big-DDOzmUMH.js";import"./eye-DwuHDobg.js";import"./download-o5rqL5cq.js";import"./form-group-CHZXn8bM.js";import"./label-Blk7FhF1.js";function S(){const{data:a,setData:n,clearErrors:m,reset:E,errors:p,setError:d}=u({code:"",name:""}),[e,o]=h.useState(!1);async function c(){m(),o(!0);try{if(!a.logo)await i.post("/admin/company",a);else{const r=new FormData;r.append("code",a.code??""),r.append("name",a.name??""),r.append("sale_code",a.sale_code??""),r.append("tagline",a.tagline??""),r.append("logo",a.logo),r.append("bank_account_id",a.bank_account_id?a.bank_account_id.toString():""),await i.post("/admin/company",r,{headers:{"Content-Type":"multipart/form-data"}})}s({title:"Sukses",description:"Data perusahaan berhasil ditambah"}),b.visit("/admin/company/create")}catch(r){if(r.response.status===422){const l=r.response.data.errors;d(l)}else s({variant:"destructive",title:"Gagal",description:r.response.data.message})}finally{o(!1)}}return t.jsxs(y,{className:"m-4 mb-64",children:[t.jsxs(x,{children:[t.jsx(g,{children:"Tambah Perusahaan"}),t.jsx(j,{children:"Halaman ini digunakan untuk menambahkan data perusahaan baru. Pastikan semua informasi yang dimasukkan sudah benar sebelum menyimpan."})]}),t.jsx(k,{children:t.jsx(D,{data:a,setData:n,errors:p})}),t.jsx(C,{children:t.jsx(f,{disabled:e,onClick:c,children:e?"Menyimpan...":"Simpan"})})]})}S.layout=a=>t.jsx(_,{breadcrumbs:[{label:"Dashboard",href:"/admin"},{label:"Master File",href:"#"},{label:"Perusahaan",href:"/admin/company"},{label:"Tambah",href:"#"}],children:a});export{S as default};
