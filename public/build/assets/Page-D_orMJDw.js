import{j as a,r as m,y as d,a as n}from"./app-xdIDsNuc.js";import{E as u,s as p}from"./DataTable-BQMJLeIO.js";import{d as g,e as b,A as h}from"./AuthenticatedLayout-DtjjUv9R.js";import{c as k}from"./utils-jM7Hu9J5.js";import{C as y}from"./circle-check-big-DsX6mfvx.js";import{c as s}from"./createLucideIcon-D9qBrcbq.js";import"./index-D9fYs-5N.js";import"./table-DWveCIF-.js";import"./input-Pb5O0huv.js";import"./select-CnbTIwKL.js";import"./index-CltWYr8P.js";import"./index-4rFdga_w.js";import"./index-Dy_V4ZJ5.js";import"./index-CCSo0cdO.js";import"./index-DY1xKekZ.js";import"./check-B2a_CU3u.js";import"./card-DPe-xeUS.js";import"./badge-ZAY5fO7e.js";import"./moment-DPfounic.js";import"./dialog-D0N63b2F.js";import"./x-Cp6Dz_ky.js";import"./use-toast-BOfnQU58.js";import"./form-group-DJppTG6k.js";import"./label-DxiqzSVl.js";import"./textarea-CBlx0qbf.js";import"./search-DVUbBZlE.js";import"./plus-g40r8l_n.js";import"./trash-2-DreEqKRe.js";import"./index-CZTB0vk4.js";import"./index-OwxvCaeV.js";import"./star-DujE_Tw0.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c=s("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=s("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),x={pending:{label:"Menunggu",icon:g,className:"bg-yellow-100 text-yellow-800 border-yellow-200"},confirmed:{label:"Dikonfirmasi",icon:y,className:"bg-blue-100 text-blue-800 border-blue-200"},cancelled:{label:"Dibatalkan",icon:f,className:"bg-red-100 text-red-800 border-red-200"},completed:{label:"Selesai",icon:c,className:"bg-green-100 text-green-800 border-green-200"}};function D({status:t,className:o}){const r=x[t],e=r.icon;return a.jsxs("div",{className:k("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full border text-xs font-medium",r.className,o),children:[a.jsx(e,{className:"h-3 w-3"}),r.label]})}function _(){const[t,o]=m.useState(0),r=async e=>{p({title:`Selesaikan Booking ${e.booking_number}`,description:`Apakah Anda yakin ingin menandai booking dengan nomor ${e.booking_number} sebagai selesai?`,cancelText:"Batal",confirmText:"Selesaikan"}).then(async i=>{if(i)try{await n.post(`/booking/${e.id}/complete`),o(l=>l+1)}catch{alert("Failed to complete booking")}})};return a.jsx(a.Fragment,{children:a.jsx(u,{refreshTrigger:t,title:"Booking",description:"Daftar booking yang terdaftar dalam sistem",isFilterDate:!0,canCreate:!1,canUpdate:!1,canDelete:!1,columns:[{accessorKey:"booking_number",header:"Nomor Booking",cell:e=>e.booking_number},{accessorKey:"court_schedule_id",header:"Venue - Lapangan",cell:e=>e.court_schedule.court.venue.name+" - "+e.court_schedule.court.name},{accessorKey:"user_id",header:"Member",cell:e=>e.user?e.user.name:"-"},{accessorKey:"",header:"Tanggal",cell:e=>new Date(e.court_schedule.date).toLocaleDateString("id-ID")},{accessorKey:"",header:"Waktu",cell:e=>e.court_schedule.start_time+" - "+e.court_schedule.end_time},{accessorKey:"created_at",header:"Tanggal Booking",cell:e=>new Date(e.created_at).toLocaleDateString("id-ID")+" "+new Date(e.created_at).toLocaleTimeString("id-ID")},{accessorKey:"status",header:"Status",cell:e=>a.jsx(D,{status:e.status})}],apiUrl:"/booking",onEdit:async e=>{d.visit(`/booking/${e}/edit`)},onDelete:async e=>{try{await n.delete(`/booking/${e}`),o(i=>i+1)}catch{alert("Failed to delete data")}},additionalFilters:[{key:"status",label:"Status",type:"select",options:[{value:"pending",label:"Pending"},{value:"cancelled",label:"Dibatalkan"},{value:"confirmed",label:"Dikonfirmasi"},{value:"completed",label:"Selesai"}]}],additionalActionButtons:e=>e.status!=="confirmed"?null:a.jsxs(b,{onClick:()=>r(e),children:[a.jsx(c,{className:"mr-2 h-4 w-4"}),"Selesaikan"]})})})}_.layout=t=>a.jsx(h,{breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Transaksi",href:"#"},{label:"Booking",href:"/booking"}],children:t});export{_ as default};
